{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","UI/Modal/Modal.module.css","components/ImagesErrorView/ImagesErrorView.module.css","components/ImagesIdleView/ImagesIdleView.module.css","components/ImageGallery/ImageGallery.module.css","UI/SpinnerLoader/SpinnerLoader.module.css","UI/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","services/pixabayApi.js","components/ImageGalleryItem/ImageGalleryItem.jsx","UI/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/ImagesErrorView/error.jpg","components/ImagesErrorView/ImagesErrorView.jsx","UI/SpinnerLoader/SpinnerLoader.jsx","components/ImagesIdleView/racion-vzrosloj-koshki-1170x715.jpg","components/ImagesIdleView/ImagesIdleView.jsx","UI/Button/Button.jsx","components/RenderImagesApi/RenderImagesApi.jsx","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","imageName","setImageName","className","s","SearchForm","event","preventDefault","trim","target","value","toast","warning","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","BASE_URL","searchQuery","page","a","Axios","get","response","data","fetchData","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","src","alt","data-modalimg","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","modalImg","onClose","useEffect","handleKeyDown","code","window","addEventListener","createPortal","Overlay","ImageGallery","images","showModal","setShowModal","setModalImg","toggleModal","handleClickOnImage","dataset","modalimg","map","id","ImagesErrorView","errorMessage","role","errorImage","Img","Message","SpinnerLoader","Loader","color","height","width","timeout","ImagesIdleView","idleImage","Button","onLoadMore","Status","RenderImagesApi","setImages","error","setError","status","setStatus","setPage","total","prevImages","hits","findImagesByName","message","prevState","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e55efb18.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2GG6x\",\"Modal\":\"Modal_Modal__16SAR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Img\":\"ImagesErrorView_Img__11Mnd\",\"Message\":\"ImagesErrorView_Message__9m7Uf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Img\":\"ImagesIdleView_Img__1f74t\",\"Message\":\"ImagesIdleView_Message__19S_X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"SpinnerLoader_Loader__C0g-1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3h9Fb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  function handleImageNameChange(event) {\n    setImageName(event.currentTarget.value.toLowerCase());\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    if (imageName.trim() === '') {\n      toast.warning('You have not entered anything! Try again...');\n      return;\n    }\n    onSubmit(imageName.trim());\n    setImageName('');\n    event.target[1].value = '';\n  }\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          name=\"imageName\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleImageNameChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","import Axios from 'axios';\n\nconst KEY = '19220903-64d397b0478b4f9618e32d188';\nconst BASE_URL = `https://pixabay.com/api/?key=${KEY}&image_type=photo&orientation=horizontal&per_page=12&q=`;\n\nasync function fetchData(searchQuery, page) {\n  const response = await Axios.get(`${BASE_URL}${searchQuery}&page=${page}`);\n  const { data } = response;\n  return data;\n}\n\nexport default fetchData;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onClick }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-modalimg={largeImageURL}\n        className={s.ImageGalleryItemImage}\n        onClick={onClick}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ modalImg, onClose }) {\n  useEffect(() => {\n    function handleKeyDown(event) {\n      if (event.code === 'Escape') {\n        onClose();\n      }\n    }\n    window.addEventListener('keydown', handleKeyDown);\n    return (\n      () => {\n        window.removeEventListener('keydown', handleKeyDown);\n      },\n      []\n    );\n  }, [onClose]);\n\n  function handleBackDropClick(event) {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  }\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackDropClick}>\n      <div className={s.Modal}>\n        {<img src={modalImg} alt=\"Большя картинка элемента коллекции\" />}\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  modalImg: PropTypes.string,\n  onClose: PropTypes.func,\n};\n\nexport default Modal;\n","import { useState } from 'react';\nimport PropTypes, { shape } from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Modal from '../../UI/Modal/Modal';\n\nfunction ImageGallery({ images }) {\n  const [showModal, setShowModal] = useState(false);\n  const [modalImg, setModalImg] = useState('');\n\n  function toggleModal() {\n    setShowModal(!showModal);\n  }\n\n  function handleClickOnImage(event) {\n    setModalImg(event.target.dataset.modalimg);\n    toggleModal();\n  }\n\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              largeImageURL={largeImageURL}\n              tags={tags}\n              onClick={handleClickOnImage}\n            />\n          );\n        })}\n      </ul>\n      {showModal && <Modal modalImg={modalImg} onClose={toggleModal} />}\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ),\n};\n\nexport default ImageGallery;\n","export default __webpack_public_path__ + \"static/media/error.22cf63af.jpg\";","import PropTypes from 'prop-types';\nimport errorImage from './error.jpg';\nimport s from './ImagesErrorView.module.css';\n\nfunction ImagesErrorView({ errorMessage }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} alt=\"Котик в печали\" className={s.Img} />\n      <p className={s.Message}>{errorMessage}</p>\n    </div>\n  );\n}\n\nImagesErrorView.propTypes = {\n  errorMessage: PropTypes.string,\n};\n\nexport default ImagesErrorView;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './SpinnerLoader.module.css';\n\nfunction SpinnerLoader() {\n  return (\n    <div className={s.Loader}>\n      <Loader type=\"Bars\" color=\"#3f51b5\" height={50} width={50} timeout={0} />\n    </div>\n  );\n}\n\nexport default SpinnerLoader;\n","export default __webpack_public_path__ + \"static/media/racion-vzrosloj-koshki-1170x715.1d4080f9.jpg\";","import idleImage from './racion-vzrosloj-koshki-1170x715.jpg';\nimport s from './ImagesIdleView.module.css';\n\nfunction ImagesIdleView() {\n  return (\n    <div>\n      <img src={idleImage} alt=\"Котик смотрит на мышь\" className={s.Img} />\n      <p className={s.Message}>Hello, what are you looking for?</p>\n    </div>\n  );\n}\n\nexport default ImagesIdleView;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onLoadMore}>\n      Load more...\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func,\n};\n\nexport default Button;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport fetchData from '../../services/pixabayApi';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport ImagesErrorView from '../ImagesErrorView/ImagesErrorView';\nimport SpinnerLoader from '../../UI/SpinnerLoader/SpinnerLoader';\nimport ImagesIdleView from '../ImagesIdleView/ImagesIdleView';\nimport Button from '../../UI/Button/Button';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n  ERROR: 'error',\n};\n\nfunction RenderImagesApi({ imageName }) {\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n    setStatus(Status.PENDING);\n    async function findImagesByName() {\n      try {\n        const data = await fetchData(imageName, page);\n        if (data.total > 0) {\n          setImages(prevImages => [...prevImages, ...data.hits]);\n          setStatus(Status.RESOLVED);\n        } else {\n          setStatus(Status.ERROR);\n        }\n      } catch (error) {\n        setError(error);\n        setStatus(Status.REJECTED);\n      }\n    }\n    findImagesByName();\n  }, [imageName, page]);\n\n  useEffect(() => {\n    resetImages();\n  }, [imageName]);\n\n  function handleButtonClick() {\n    setPage(prevState => prevState + 1);\n    scrollPage();\n  }\n  function resetImages() {\n    setImages([]);\n  }\n\n  function scrollPage() {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 160,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  }\n\n  if (status === Status.IDLE) {\n    return <ImagesIdleView />;\n  }\n\n  if (status === Status.REJECTED) {\n    return <ImagesErrorView errorMessage={error.message} />;\n  }\n\n  if (status === 'error') {\n    return (\n      <ImagesErrorView errorMessage={`Нет картинок с именем: '${imageName}'`} />\n    );\n  }\n\n  if (status === 'pending' || status === 'resolved') {\n    return (\n      <>\n        <ImageGallery images={images} />\n        {status === Status.PENDING ? (\n          <SpinnerLoader />\n        ) : (\n          <Button onLoadMore={handleButtonClick} />\n        )}\n      </>\n    );\n  }\n}\n\nRenderImagesApi.propTypes = {\n  imageName: PropTypes.string,\n};\n\nexport default RenderImagesApi;\n","import {useState} from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport RenderImagesApi from './components/RenderImagesApi/RenderImagesApi';\nimport './App.css';\n\nfunction App() {\n  const [imageName, setImageName] = useState('')\n\n  function handleSearchFormSubmit (imageName) {\n    setImageName(imageName);\n  };\n  return (\n      <div className=\"App\">\n        <Searchbar onSubmit={handleSearchFormSubmit} />\n        <RenderImagesApi imageName={imageName} />\n        <ToastContainer />\n      </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}